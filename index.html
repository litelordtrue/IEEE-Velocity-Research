<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="/graphing.js"></script>
</head>

<body>
    <!-- <button id = "addMissingValuesButton" onclick="redrawCommitsGraph()"> Add Missing Values!</button> -->
    <div id = "line_graph"></div>
    <script type = "text/javascript">
        //lineSvgInit();
        //let processed_promise = readCommits();
        //processed_promise.then(function(data){
        //    drawCommitsGraph(data);
        //});

        var ex_data;
        
        let messages_promise = readMessages();
        messages_promise.then(function(data){
            let author_array = createAuthorArray(data);
            stackedSvgInit("messages");
            drawStackedGraph(data, "messages", author_array);
        })
        
        let issues_promise = readIssues();
        issues_promise.then(function(data){
            let author_array = createAuthorArray(data);
            stackedSvgInit("issues");
            drawStackedGraph(data, "issues", author_array);
        })

        let commits_promise = readCommits();
        commits_promise.then(function(data){
            console.log(data);
            let author_array = createAuthorArray(data);
            stackedSvgInit("commits");
            drawStackedGraph(data, "commits", author_array);
        })
    </script>
</body>

</html>